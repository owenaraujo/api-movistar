{"version":3,"sources":["webpack:///./src/components/ventas/List.vue?ae3e","webpack:///./src/components/ventas/List.vue","webpack:///./src/components/ventas/ventasList.vue","webpack:///./src/components/ventas/ventasList.vue?35a4","webpack:///./src/components/ventas/List.vue?9616"],"names":["class","type","data-toggle","aria-haspopup","aria-expanded","id","aria-label","href","tabindex","aria-disabled","limit","limitar","undefined","param","ventas","venta","index","key","factura","toString","indexOf","page","previous","lista","item","getPage","next","numeralFormat","formatTime","createdAt","total","pdf","cl","f","props","setup","time","format","store","productos","value","dispatch","reduce","sum","precio","iva","cantidad","render","components","List","api","state","num","get","length","a","data","count","element","push","__scopeId"],"mappings":"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","file":"js/chunk-619c740d.fa5b9f73.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./List.vue?vue&type=style&index=0&id=84122d26&scoped=true&lang=css\"","<template>\r\n  <div class=\"container-fluid\">\r\n    <!-- Page Heading -->\r\n    <div class=\"d-sm-flex align-items-center justify-content-between mb-4\">\r\n      <h1 class=\"h3 mb-0 text-gray-800 text-center\">Panel de Administraci√≥n</h1>\r\n    </div>\r\n    <div class=\"text-right mb-2\">\r\n      mostrar\r\n      <div class=\"btn-group ml-2\">\r\n        <button\r\n          class=\"btn btn-secondary btn-sm dropdown-toggle\"\r\n          type=\"button\"\r\n          data-toggle=\"dropdown\"\r\n          aria-haspopup=\"true\"\r\n          aria-expanded=\"false\"\r\n        >\r\n          {{ limit }}\r\n        </button>\r\n        <div class=\"dropdown-menu\">\r\n          <a\r\n            class=\"dropdown-item\"\r\n            :class=\"{ active: limit == 5 }\"\r\n            @click=\"limitar(5)\"\r\n            >5</a\r\n          >\r\n          <a\r\n            class=\"dropdown-item\"\r\n            :class=\"{ active: limit == 10 }\"\r\n            @click=\"limitar(10)\"\r\n            >10</a\r\n          >\r\n          <a\r\n            class=\"dropdown-item\"\r\n            :class=\"{ active: limit == 20 }\"\r\n            @click=\"limitar(20)\"\r\n            >20</a\r\n          >\r\n\r\n          <div class=\"dropdown-divider\"></div>\r\n          <a\r\n            class=\"dropdown-item\"\r\n            @click=\"limitar(undefined)\"\r\n            :class=\"{ active: limit == undefined }\"\r\n            >todos</a\r\n          >\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-12\">\r\n        <div class=\"table-responsive\">\r\n          <table class=\"table table-striped table-bordered\" id=\"table\">\r\n            <thead class=\"thead-dark\">\r\n              <tr>\r\n                <th># factura</th>\r\n                <th>Fecha</th>\r\n                <th>Total</th>\r\n                <th>Acciones</th>\r\n              </tr>\r\n            </thead>\r\n            {{\r\n              param\r\n            }}\r\n            <tbody>\r\n              <List\r\n                v-show=\"venta.factura.toString().indexOf(param) != -1\"\r\n                :venta=\"venta\"\r\n                v-for=\"(venta, index) of ventas\"\r\n                :key=\"index\"\r\n              ></List>\r\n            </tbody>\r\n          </table>\r\n          <nav aria-label=\"...\" class=\"text-center\">\r\n            <ul class=\"pagination justify-content-center\">\r\n              <div\r\n                class=\"page-item\"\r\n                :class=\"{ disabled: page == 1 }\"\r\n                @click=\"previous\"\r\n              >\r\n                <a class=\"page-link\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\"\r\n                  >Previous</a\r\n                >\r\n              </div>\r\n              <div class=\"pagination scroll scrollbar-light-blue\">\r\n                <div\r\n                  v-for=\"(item, index) in lista\"\r\n                  :key=\"index\"\r\n                  class=\"page-item\"\r\n                  :class=\"{ active: page == item }\"\r\n                  @click=\"getPage(item)\"\r\n                >\r\n                  <a class=\"page-link\">{{ item }}</a>\r\n                </div>\r\n              </div>\r\n\r\n              <li\r\n                class=\"page-item\"\r\n                @click=\"next\"\r\n                :class=\"{\r\n                  disabled: lista.length === page || limit === undefined,\r\n                }\"\r\n              >\r\n                <a class=\"page-link\" href=\"#\">Next</a>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, ref } from \"@vue/runtime-core\";\r\nimport { useStore } from \"vuex\";\r\nimport axios from \"axios\";\r\nimport List from \"./ventasList.vue\";\r\nexport default {\r\n  props: [\"param\"],\r\n  components: { List },\r\n  setup() {\r\n    let store = useStore();\r\n    let api = computed(() => store.state.api);\r\n    let ventas = ref([]);\r\n    let limit = ref(10);\r\n    let page = ref(1);\r\n    let lista = ref([]);\r\n    function limitar(num) {\r\n      limit.value = num;\r\n      page.value = 1;\r\n\r\n      get();\r\n    }\r\n    function previous() {\r\n      if (page.value === 1) return;\r\n      if (limit.value === undefined) return;\r\n      page.value--;\r\n      get();\r\n    }\r\n    function next() {\r\n      if (page.value === lista.value.length) return;\r\n      if (limit.value === undefined) return;\r\n\r\n      page.value++;\r\n      get();\r\n    }\r\n    function getPage(num) {\r\n      page.value = num;\r\n\r\n      get();\r\n    }\r\n    async function get() {\r\n      ventas.value = []\r\n      const { data } = await axios.get(\r\n        `${api.value}/ventas/${limit.value}/${page.value}`\r\n      );\r\n      ventas.value = data.ventas;\r\n      lista.value = [];\r\n      //data.count = 500;\r\n      for (let index = 0; index < data.count / limit.value; index++) {\r\n        const element = index + 1;\r\n        lista.value.push(element);\r\n      }\r\n    }\r\n    get();\r\n    return { ventas, lista, limit, page, getPage, previous, next, limitar };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.scrollbar-light-blue::-webkit-scrollbar-track {\r\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.1);\r\n  background-color: #f5f5f5;\r\n  border-radius: 5px;\r\n}\r\n\r\n.scrollbar-light-blue::-webkit-scrollbar {\r\n  width: 10px;\r\n  height: 7px;\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.scrollbar-light-blue::-webkit-scrollbar-thumb {\r\n  border-radius: 5px;\r\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.1);\r\n  background-color: #4e73df;\r\n}\r\n.scroll {\r\n  max-width: 70vw;\r\n\r\n  overflow-y: auto;\r\n}\r\n</style>","<template>\r\n    <tr>\r\n\t\t\t\t\t\t\t\t<td>{{numeralFormat(venta.factura, \"000000\")}}</td>\r\n\t\t\t\t\t\t\t\t<td>{{formatTime(venta.createdAt)}}</td>\r\n\t\t\t\t\t\t\t\t<td>{{total}}</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<button @click=\"pdf\" type=\"button\" class=\"btn btn-primary view_factura\" cl=\"<?php echo $dato['codcliente'];  ?>\" f=\"<?php echo $dato['nofactura']; ?>\">Ver</button>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n</template>\r\n<script>\r\nimport { ref } from '@vue/reactivity'\r\nimport { computed } from '@vue/runtime-core'\r\nimport { useStore } from 'vuex'\r\nimport formatDate from 'moment'\r\n\r\nexport default {\r\n    props:['venta',],\r\n\tsetup(props){\r\n\tfunction\tformatTime(time){\r\nreturn formatDate(time).format(\"l\")\r\n\t}\r\n\t\tlet store = useStore()\r\n\t\tlet venta = ref(props.venta)\r\n\t\tlet productos = venta.value\r\nfunction pdf() {\r\n\tstore.dispatch('guardarVenta', venta.value)\r\n\tstore.dispatch('generarPdf')\r\n}\r\n\t\tlet total = computed(()=> productos.productos.reduce(\r\n\t\t\t\r\n        (sum, item) => sum + (( item.precio * item.iva) / 100 +item.precio)* item.cantidad ,0\r\n\t\t))\r\n\treturn{total, pdf, formatTime}\r\n\t}\r\n\r\n\r\n}\r\n</script>","import { render } from \"./ventasList.vue?vue&type=template&id=50db2b38\"\nimport script from \"./ventasList.vue?vue&type=script&lang=js\"\nexport * from \"./ventasList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./List.vue?vue&type=template&id=84122d26&scoped=true\"\nimport script from \"./List.vue?vue&type=script&lang=js\"\nexport * from \"./List.vue?vue&type=script&lang=js\"\n\nimport \"./List.vue?vue&type=style&index=0&id=84122d26&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-84122d26\"\n\nexport default script"],"sourceRoot":""}